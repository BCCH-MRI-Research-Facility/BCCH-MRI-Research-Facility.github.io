[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "BCCH MRI Research Facility Github Page",
    "section": "",
    "text": "This page serves as a Wiki and collection of resources for users of BC Children’s MRI Research Facility\nYou can search this page using the magnifying glass in the top right.\nOr you can navigate using the sidebar on the left.\n\n\n\n Back to top"
  },
  {
    "objectID": "Orientation/instantmessaging.html",
    "href": "Orientation/instantmessaging.html",
    "title": "Instant Messaging / Stay in Touch",
    "section": "",
    "text": "Mattermost Logo\n\n\nMattermost is an open-source, self-hostable online chat service with file sharing, search, and integrations. It is designed as an internal chat for organisations and companies, and mostly markets itself as an open-source alternative to Slack and Microsoft Teams.\nIf you have questions or want to connect with other BCCH MRI Research Facility users, you can download Mattermost and connect with us.\n\n\n\n\nFor your computer, you will want to install Mattermost Desktop. Click here to choose your operating system and use their install guide.\n\n\n\nMattermost can also be installed on your phone. Click here to choose your phone operating system.\n\n\n\n\n[NOTE: You will need a BCCHR username to gain access.]\n\nYou will need to ask to be invited. Click here\nAfter you are given access: open mattermost (either Desktop or Mobile)\nFor server display name, use: ``\nFor server URL, use: https://im.bcchr.ca/\nLogin with your BCCHR username and password\n\n\n\nIt can be very helpful to others to include a photo or yourself.\n\nGo to Account Settings (Top right on Desktop app, and bottom right on Mobile app)\nClick on Your Profile\nEdit your Profile Picture",
    "crumbs": [
      "Home",
      "Orientation",
      "Instant Messaging / Stay in Touch"
    ]
  },
  {
    "objectID": "Orientation/instantmessaging.html#install",
    "href": "Orientation/instantmessaging.html#install",
    "title": "Instant Messaging / Stay in Touch",
    "section": "",
    "text": "For your computer, you will want to install Mattermost Desktop. Click here to choose your operating system and use their install guide.\n\n\n\nMattermost can also be installed on your phone. Click here to choose your phone operating system.",
    "crumbs": [
      "Home",
      "Orientation",
      "Instant Messaging / Stay in Touch"
    ]
  },
  {
    "objectID": "Orientation/instantmessaging.html#setup",
    "href": "Orientation/instantmessaging.html#setup",
    "title": "Instant Messaging / Stay in Touch",
    "section": "",
    "text": "[NOTE: You will need a BCCHR username to gain access.]\n\nYou will need to ask to be invited. Click here\nAfter you are given access: open mattermost (either Desktop or Mobile)\nFor server display name, use: ``\nFor server URL, use: https://im.bcchr.ca/\nLogin with your BCCHR username and password\n\n\n\nIt can be very helpful to others to include a photo or yourself.\n\nGo to Account Settings (Top right on Desktop app, and bottom right on Mobile app)\nClick on Your Profile\nEdit your Profile Picture",
    "crumbs": [
      "Home",
      "Orientation",
      "Instant Messaging / Stay in Touch"
    ]
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "The BC Children’s Hospital MRI Research Facility is one of Canada’s top centres for pediatric brain mapping and imaging sciences research.\nA core facility of the BC Children’s Hospital’s Research Institute and affiliated with the University of British Columbia, the child-friendly environment of the MRI Research Facility is ideally situated to optimize opportunities for widespread research collaborations with the highly skilled staff found at BC Children’s Hospital and BC Women’s Hospital + Health Centre.\nThe MRI Research Facility features a GE Discovery MR750 3.0 Tesla MRI scanner for functional MRI, structural MRI and spectroscopy. The current scanner software version is DV26.0_R03.\nTogether, with our child-friendly MRI simulator, the MRI Research Facility provides an excellent platform for performing research studies on babies and young children.\n\n\n\n Back to top",
    "crumbs": [
      "Home",
      "About"
    ]
  },
  {
    "objectID": "how-tos/ballistocardiogram-removal.html",
    "href": "how-tos/ballistocardiogram-removal.html",
    "title": "EEG-fMRI Ballistocardiogram Cleaning (Rodriguez method)",
    "section": "",
    "text": "Reversed engineered code from Rodriguez (2016) for removal of the ballistocardiogram artifacts from EEG-fMRI data when the ECG fails to give a good signal. Cameron’s dissertation is included in this repository for transparency’s sake. This code requires Matlab and the Signal Processing Toolbox.\nIf you use this code, please cite:\nRodriguez, Cameron. (2016). Improvements to Simultaneous Electroencepalography-Functional Magnetic Resonance Imaging and Electroencepalographic Source Localization. PhD Thesis for the University of California, Los Angeles.",
    "crumbs": [
      "Home",
      "How Tos",
      "EEG-fMRI Ballistocardiogram Cleaning (Rodriguez method)"
    ]
  },
  {
    "objectID": "how-tos/ballistocardiogram-removal.html#please-cite-rodriguez-2016",
    "href": "how-tos/ballistocardiogram-removal.html#please-cite-rodriguez-2016",
    "title": "EEG-fMRI Ballistocardiogram Cleaning (Rodriguez method)",
    "section": "",
    "text": "Reversed engineered code from Rodriguez (2016) for removal of the ballistocardiogram artifacts from EEG-fMRI data when the ECG fails to give a good signal. Cameron’s dissertation is included in this repository for transparency’s sake. This code requires Matlab and the Signal Processing Toolbox.\nIf you use this code, please cite:\nRodriguez, Cameron. (2016). Improvements to Simultaneous Electroencepalography-Functional Magnetic Resonance Imaging and Electroencepalographic Source Localization. PhD Thesis for the University of California, Los Angeles.",
    "crumbs": [
      "Home",
      "How Tos",
      "EEG-fMRI Ballistocardiogram Cleaning (Rodriguez method)"
    ]
  },
  {
    "objectID": "how-tos/ballistocardiogram-removal.html#removing-the-ballistocardiogram-with-no-ecg",
    "href": "how-tos/ballistocardiogram-removal.html#removing-the-ballistocardiogram-with-no-ecg",
    "title": "EEG-fMRI Ballistocardiogram Cleaning (Rodriguez method)",
    "section": "Removing the Ballistocardiogram with no ECG",
    "text": "Removing the Ballistocardiogram with no ECG\n\nRemove the MR gradient signal from the EEG using your favourite software (here we used FIMRIB’s EEG tools [Niazy et al., 2005] in EEGLAB [Delorme & Makeig, 2004] saved as a .set file).\nSet up the paths to your data and change directories into the srcdir directory. Change the path to suit your dataset.\n\nsrcdir = fullfile('/Volumes', 'Lynne_32G', 'EEG', 'src');\ncd(scrdir)\n\nLoad the EEG run. Change to suit your dataset.\n\nEEG = load('-mat', [srcdir 'BHBMEG007_20210511_040344_GR.set']);\n\nGet the sampling rate. In the .set file, it is named srate and is an embedded structure of EEG. This may differ depending on the software used to remove the MR gradient noise.\n\nFs = EEG.srate\n\nRemove remaining gradient artifact at beginning and cut off part when net was removed at the end by cropping the signal.\nRestrict signal to channels included in Rodriguez 2016 for ballistocardiogram estimation (FT9 [EGI 67], TP9 [EGI 94], T7 [EGI 69], P7 [EGI 96], FT10 [EGI 219], TP10 [EGI 190], T8 [EGI 202], P8 [EGI 179]).\n\nchannels2keep = [67 94 69 96 219 190 202 179];\nstart = round(EEG.event(2).latency); % skip first TR as there is often gradient noise still in the signal  \ndata = double(EEG.data(channels2keep, start:end) );\n\nsubplot(8,1,1), plot(data(1,1:1500))\nsubplot(8,1,2), plot(data(2,1:1500))\nsubplot(8,1,3), plot(data(3,1:1500))\nsubplot(8,1,4), plot(data(4,1:1500))\nsubplot(8,1,5), plot(data(5,1:1500))\nsubplot(8,1,6), plot(data(6,1:1500))\nsubplot(8,1,7), plot(data(7,1:1500))\nsubplot(8,1,8), plot(data(8,1:1500))\n\n\n\nChannels to derive cardiac signal from.\n\n\n\nSubtract mean from each channel.\n\ndata = data - mean(data,2)\n\nCreate mean left and right channels\n\nLmean = mean(data(1:4,:));\nRmean = mean(data(5:8,:));\n\nRereference channels\n\nTake the difference of Lmean and Rmean\n\n\nLR = Lmean - Rmean;\nplot(LR(35000:40000))\n\n\n\nRereferenced channels.\n\n\n\nClean up output\n\nStep 10.1: LR mean Signal Conditioning/Filtering Filter series 1: Low Bandwidth\n\n0.75 Hz 6th order Butterworth filter\n10 Hz 12th order Butterworth filter\n\n\n\n% Generate filters\nLBW.highpass = designfilt('highpassiir', 'FilterOrder', 6, ...\n    'HalfPowerFrequency', 0.75, 'SampleRate', Fs)\n\nLBW.lowpass = designfilt('lowpassiir', 'FilterOrder', 12, ...\n    'HalfPowerFrequency', 10, 'SampleRate', Fs)\n\n% Filter Lmean\ntemp = filtfilt(LBW.highpass, Lmean);\nLmean_LBW = filtfilt(LBW.lowpass, temp);\n\n% Filter Rmean\ntemp = filtfilt(LBW.highpass, Rmean);\nRmean_LBW = filtfilt(LBW.lowpass, temp);\n\n% Filter again (only with the difference this time)\ntemp = filtfilt(LBW.highpass, (Lmean_LBW - Rmean_LBW));\nLR_LBW = filtfilt(LBW.lowpass, temp);\nFilter series 2: High Bandwidth\n  - 0.75 Hz 6th order Butterworth filter\n  - 50 Hz 12th order Butterworth filter\n% Generate filters\nHBW.highpass = designfilt('highpassiir', 'FilterOrder', 6, ...\n    'HalfPowerFrequency', 0.75, 'SampleRate', Fs)\n\nHBW.lowpass = designfilt('lowpassiir', 'FilterOrder', 12, ...\n    'HalfPowerFrequency', 50, 'SampleRate', Fs)\n\n% Filter Lmean\ntemp = filtfilt(HBW.highpass, Lmean);\nLmean_HBW = filtfilt(HBW.lowpass, temp);\n\n% Filter Rmean\ntemp = filtfilt(HBW.highpass, Rmean);\nRmean_HBW = filtfilt(HBW.lowpass, temp);\n\n% Filter again (only with the difference this time)\ntemp = filtfilt(HBW.highpass, (Lmean_HBW - Rmean_HBW));\nLR_HBW = filtfilt(HBW.lowpass, temp);\nTO BE CONTINUED …",
    "crumbs": [
      "Home",
      "How Tos",
      "EEG-fMRI Ballistocardiogram Cleaning (Rodriguez method)"
    ]
  },
  {
    "objectID": "how-tos.html",
    "href": "how-tos.html",
    "title": "MRI How Tos",
    "section": "",
    "text": "EEG-fMRI Ballistocardiogram Cleaning (Rodriguez method)\n\n\n\n\n\n\neeg-fmri\n\n\ncode\n\n\nmatlab\n\n\npreprocessing\n\n\neeg\n\n\n\nReversed engineered code from Rodriguez (2016) for removal of the ballistocardiogram artifacts from EEG-fMRI data when the ECG fails to give a good signal. This code requires Matlab and the Signal Processing Toolbox.\n\n\n\n\n\nJul 11, 2018\n\n\nLynne Williams\n\n\n\n\n\n\nNo matching items\n\n Back to top",
    "crumbs": [
      "Home",
      "MRI How Tos"
    ]
  },
  {
    "objectID": "Orientation/index.html",
    "href": "Orientation/index.html",
    "title": "Orientation",
    "section": "",
    "text": "Back to top",
    "crumbs": [
      "Home",
      "Orientation"
    ]
  }
]